$(document).ready(function(){
  var controller_url = (typeof controller_in == "undefined") ? "users?search=%QUERY" : "?search=%QUERY"
  var names = new Bloodhound({
    datumTokenizer: Bloodhound.tokenizers.whitespace('name'),
    queryTokenizer: Bloodhound.tokenizers.whitespace,
    remote: {url: controller_url , wildcard: '%QUERY'
        }
      });

  names.initialize();

  $('.typeahead').typeahead({
    hint: true,
    highlight: true,
    minLength: 1
  },
  {
    name: 'users',
    displayKey: 'name' ,
    source: names.ttAdapter()
  });


});
